# This file was generated on 2020-12-27T14:32:17+00:00 from the rspec-dev repo.
# DO NOT modify it by hand as your changes will get lost the next time it is generated.

name: RSpec CI
on:
  push:
    branches:
      - 'main'
      - '*-maintenance'
      - '*-dev'
      - 'experimental-github-actions'
  pull_request:
    branches:
      - '*'
env:
  RSPEC_CI: true
  # This tells rspec-rails what branch to run in ci
  RSPEC_VERSION: '= 3.11.0.pre'
jobs:
  legacy:
    name: Legacy Ruby Builds (${{ matrix.container.version }})
    runs-on: ubuntu-20.04
    container: ${{ matrix.container.tag }}
    strategy:
      fail-fast: false
      matrix:
        container:
          - version: "1.8.7"
            tag: rspec/ci:1.8.7
    env:
      REALLY_GEM_UPDATE_SYSTEM: fromorbitjusttobesure
    steps:
      - uses: actions/checkout@v2
      - run: ruby -v
      - run: gem -v
      - run: gem update --system '2.7.8'
      - run: bundle -v
      - run: bundle install
      - run: bundle exec rspec --backtrace
